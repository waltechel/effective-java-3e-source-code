
---
# 아이템 19. 상속을 고려해 설계하고 문서화하라. 그러지 않았다면 상속을 금지하라.

---
## 상속을 고려한 설계와 문서화
- 메서드를 재정의할 경우 어떤 일이 일어나는지를 정확히 정리한다.
- 재정의할 수 있는 메서드들을 어떻게 사용하는지

---
## @implSpec
- @implSpec 태그를 붙여주면 자바독 도구가 생성해주는 Implementation Requirements
- java 9부터 본격적으로 사용

---
## 클래스의 훅을 잘 선별하여 protected 메서드 형태로 공개해야 할 수도 있다.
---
## 상속용 클래스를 시험하는 방법은 직접 하위 클래스를 만들어 검증한다.
- 상속용으로 설계한 클래스는 배포 전에 반드시 하위 클래스를 만들어서 검증하여야 한다.


---
## 상속용 클래스의 생성자는 직/간접적으로 재정의 가능 메서드를 호출하면 안된다.
- clone, readObject 모두 직간접적으로 재정의 가능 메서드를 호출해서는 안된다.

---
## Serializable을 구현한 상속용 클래스가 readResolve나 writeReplace함수를 갖는다면 이 메서드들은 protected로 선언한다.

---
## 대안
- 상속용으로 설계하지 않은 클래스는 상속을 금지하는 것이다.
- 클래스를 final로 선언한다.
- 모든 생성자를 private, default로 선언하고, public 정적 팩토리를 만들어준다.
- 상속을 굳이 쓰려고 한다면 클래스 내부에서는 자기 사용 코드를 완벽히 제거하여야 한다.

---
## 핵심 정리
- 상속용 클래스를 설계하는 것은 매우 어렵다.
- 다른 사람이 일부 효율 좋은 하위 클래스를 만들 수 있도록 protected 메서드를 제공해야 할 수도 있다.
- 클래스를 확장해야 할 명확한 이유가 떠오르지 않으면 상속을 금지하는 편이 훨씬 낫다.
